[include shell_command.cfg]
[include mainsail.cfg]
[include macros.cfg]
[include magneto_toolhead.cfg]
[include KAMP_Settings.cfg]
[include magneto_device.cfg]
[include timelapse.cfg]
[include motors.cfg]
[include beacon.cfg]
[include nozzle_wiper.cfg]
[include fans.cfg]
[include lights.cfg]
[include sensors.cfg]

[idle_timeout]
timeout: 360000

[gcode_arcs]
resolution:0.1

[force_move]
enable_force_move: True

[heater_bed]
heater_pin: PA1
sensor_pin: PF3 # TB
sensor_type: Generic 3950
control = pid
pid_kp = 63.238
pid_ki = 0.855
pid_kd = 1169.116
min_temp: -200
max_temp: 130

[exclude_object]

[respond]

[printer]
kinematics: cartesian
max_velocity: 1500
max_accel: 15000
max_z_velocity: 5
max_z_accel: 100

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE8, EXP1_2=PE7,
    EXP1_3=PE9, EXP1_4=PE10,
    EXP1_5=PE12, EXP1_6=PE13,    # Slot in the socket on this side
    EXP1_7=PE14, EXP1_8=PE15,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PB1, EXP2_4=PA4,
    EXP2_5=PB2, EXP2_6=PA7,      # Slot in the socket on this side
    EXP2_7=PC15, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PC5

# Use beacon for resonance testing
[resonance_tester]
accel_chip: beacon 
accel_per_hz: 160 #100  # default is 75
probe_points: 200,150,20

[input_shaper]
shaper_type_y = zv
shaper_freq_y = 27.0
shaper_type_x = ei
shaper_freq_x = 44.4


# [output_pin beeper_pin]
# pin: EXP1_1
# pwm: true
# value: 0
# # shutdown_value: 0
# cycle_time: 0.001

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.025024, 0.059219, 0.053201, 0.033244, 0.070198, 0.070208
#*# 	  -0.006668, 0.057882, 0.045611, 0.024750, 0.065766, 0.047887
#*# 	  -0.000489, 0.048074, 0.045559, 0.020041, 0.048275, 0.018894
#*# 	  -0.031745, 0.027420, 0.034102, 0.003815, 0.017499, 0.007279
#*# 	  -0.029347, 0.022411, 0.026706, -0.013415, -0.017019, -0.013810
#*# 	  -0.009139, 0.048910, 0.062856, -0.002890, -0.005237, 0.008358
#*# 	  0.015836, 0.070569, 0.075290, 0.016254, 0.023543, 0.029702
#*# 	  0.018669, 0.055351, 0.070400, 0.030653, 0.030702, 0.049750
#*# x_count = 6
#*# y_count = 8
#*# mesh_x_pps = 4
#*# mesh_y_pps = 4
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 0.0
#*# max_x = 270.0
#*# min_y = 0.0
#*# max_y = 380.0
#*#
#*# [beacon model default]
#*# model_coef = 1.6371600142339993,
#*# 	  2.0169835532669937,
#*# 	  0.8552074321039939,
#*# 	  0.38746312465880983,
#*# 	  0.11912481788798875,
#*# 	  -0.0891598482815858,
#*# 	  -0.17894681356040346,
#*# 	  0.04950201133522121,
#*# 	  0.16701762739226148,
#*# 	  0.03652442763105465
#*# model_domain = 1.8777079872325108e-07,1.9355431697385927e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 31.233417
#*# model_offset = 0.00000
