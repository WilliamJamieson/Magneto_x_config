[include shell_command.cfg]
[include mainsail.cfg]
[include macros.cfg]
[include magneto_toolhead.cfg]
[include KAMP_Settings.cfg]
[include magneto_device.cfg]
[include timelapse.cfg]
[include motors.cfg]
[include beacon.cfg]
[include nozzle_wiper.cfg]
[include fans.cfg]
[include lights.cfg]
[include sensors.cfg]

[idle_timeout]
timeout: 360000

[gcode_arcs]
resolution:0.1

[force_move]
enable_force_move: True

[heater_bed]
heater_pin: PA1
sensor_pin: PF3 # TB
sensor_type: Generic 3950
control = pid
pid_kp = 63.238
pid_ki = 0.855
pid_kd = 1169.116
min_temp: -200
max_temp: 130

[exclude_object]

[respond]

[printer]
kinematics: cartesian
max_velocity: 1500
max_accel: 15000
max_z_velocity: 5
max_z_accel: 100

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE8, EXP1_2=PE7,
    EXP1_3=PE9, EXP1_4=PE10,
    EXP1_5=PE12, EXP1_6=PE13,    # Slot in the socket on this side
    EXP1_7=PE14, EXP1_8=PE15,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PB1, EXP2_4=PA4,
    EXP2_5=PB2, EXP2_6=PA7,      # Slot in the socket on this side
    EXP2_7=PC15, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PC5

# Use beacon for resonance testing
[resonance_tester]
accel_chip: beacon 
accel_per_hz: 160 #100  # default is 75
probe_points: 200,150,20

[input_shaper]
shaper_type_y = zv
shaper_freq_y = 27.0
shaper_type_x = ei
shaper_freq_x = 44.4


# [output_pin beeper_pin]
# pin: EXP1_1
# pwm: true
# value: 0
# # shutdown_value: 0
# cycle_time: 0.001

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.027007, 0.020379, 0.022013, 0.007903, 0.034453, 0.033448
#*# 	  -0.022268, 0.042419, 0.023887, 0.006382, 0.032680, 0.038127
#*# 	  -0.005177, 0.041510, 0.040369, 0.023703, 0.037796, 0.020252
#*# 	  -0.000967, 0.040795, 0.041028, 0.016412, 0.018552, 0.014104
#*# 	  -0.019910, 0.027056, 0.035089, -0.010904, -0.019444, -0.003884
#*# 	  -0.013793, 0.045574, 0.058843, -0.002111, -0.011545, 0.020517
#*# 	  -0.009160, 0.054786, 0.071062, 0.020639, 0.009838, 0.019930
#*# 	  -0.008179, 0.026353, 0.049806, 0.016875, 0.010300, 0.025571
#*# x_count = 6
#*# y_count = 8
#*# mesh_x_pps = 4
#*# mesh_y_pps = 4
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 0.0
#*# max_x = 270.0
#*# min_y = 0.0
#*# max_y = 380.0
#*#
#*# [beacon model default]
#*# model_coef = 1.6178148415287175,
#*# 	  1.9998646691350126,
#*# 	  0.8134724409654487,
#*# 	  0.20994746541075784,
#*# 	  0.025734514725064453,
#*# 	  0.2554850645986873,
#*# 	  0.0794184833807222,
#*# 	  -0.18352107261747835,
#*# 	  0.06401435736812042,
#*# 	  0.12052508891622436
#*# model_domain = 1.86965419409232e-07,1.9355021598444027e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 28.469333
#*# model_offset = 0.00000
