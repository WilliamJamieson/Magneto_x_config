[include shell_command.cfg]
[include mainsail.cfg]
[include macros.cfg]
[include magneto_toolhead.cfg]
[include KAMP_Settings.cfg]
[include magneto_device.cfg]
[include timelapse.cfg]
[include motors.cfg]
[include beacon.cfg]
[include nozzle_wiper.cfg]
[include fans.cfg]
[include lights.cfg]
[include sensors.cfg]

[idle_timeout]
timeout: 360000

[gcode_arcs]
resolution:0.1

[force_move]
enable_force_move: True

[heater_bed]
heater_pin: PA1
sensor_pin: PF3 # TB
sensor_type: Generic 3950
control = pid
pid_kp = 63.238
pid_ki = 0.855
pid_kd = 1169.116
min_temp: -200
max_temp: 130

[exclude_object]

[respond]

[printer]
kinematics: cartesian
max_velocity: 1500
max_accel: 15000
max_z_velocity: 5
max_z_accel: 100

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE8, EXP1_2=PE7,
    EXP1_3=PE9, EXP1_4=PE10,
    EXP1_5=PE12, EXP1_6=PE13,    # Slot in the socket on this side
    EXP1_7=PE14, EXP1_8=PE15,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PB1, EXP2_4=PA4,
    EXP2_5=PB2, EXP2_6=PA7,      # Slot in the socket on this side
    EXP2_7=PC15, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PC5

# Use beacon for resonance testing
[resonance_tester]
accel_chip: beacon 
accel_per_hz: 160 #100  # default is 75
probe_points: 200,150,20

[input_shaper]
shaper_type_y = zv
shaper_freq_y = 27.0
shaper_type_x = ei
shaper_freq_x = 44.4


# [output_pin beeper_pin]
# pin: EXP1_1
# pwm: true
# value: 0
# # shutdown_value: 0
# cycle_time: 0.001

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.001900, 0.036726, 0.038472, 0.021221, 0.056853, 0.046991
#*# 	-0.022863, 0.044289, 0.036233, 0.015797, 0.052485, 0.033887
#*# 	-0.014345, 0.039197, 0.040324, 0.015257, 0.043894, 0.016111
#*# 	-0.037789, 0.021357, 0.031714, 0.004425, 0.022349, 0.012540
#*# 	-0.037526, 0.017239, 0.027437, -0.012490, -0.013613, -0.006386
#*# 	-0.020018, 0.037955, 0.058101, -0.004446, -0.006535, 0.011506
#*# 	0.004849, 0.059462, 0.073715, 0.016525, 0.023724, 0.024230
#*# 	-0.001559, 0.039926, 0.063709, 0.025688, 0.024227, 0.034979
#*# x_count = 6
#*# y_count = 8
#*# mesh_x_pps = 4
#*# mesh_y_pps = 4
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 0.0
#*# max_x = 270.0
#*# min_y = 0.0
#*# max_y = 380.0
#*#
#*# [beacon model default]
#*# model_coef = 1.572683731872724,
#*# 	  1.926713630153326,
#*# 	  0.7878805404319028,
#*# 	  0.36147201875131946,
#*# 	  0.4578171362116437,
#*# 	  0.42173520335354175,
#*# 	  -0.4777831393696659,
#*# 	  -0.6208659927446408,
#*# 	  0.2596880152361868,
#*# 	  0.31283374357775817
#*# model_domain = 1.86003155498884e-07,1.9324227871354024e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 31.448027
#*# model_offset = 0.00000
